import { useTranslation } from "@opendash/core";
import { createWidgetComponent } from "@opendash/plugin-monitoring";
import { Collapse, CollapseProps, Form, Switch, Typography } from "antd";
import * as React from "react";
import { ConfigInterface } from "./types";

const { Text } = Typography;

export default createWidgetComponent<ConfigInterface>(
  ({ draft, updateDraft, ...context }) => {
    const t = useTranslation();
    const [form] = Form.useForm();

    const items: CollapseProps["items"] = [
      {
        key: "pentestresult-settings",
        label: "Allgemeine Einstellungen",
        children: (
          <Form form={form} name="pentestresult-settings" layout="vertical">
            {/* <Text>{t("echarts:pentestresults.settings.description")}</Text> */}
            <Form.Item
              name="showLabels"
              label={t("echarts:pentestresults.settings.showLabels.label")}
              valuePropName="checked"
            >
              <Switch
                checked={draft.showLabels}
                onChange={(checked) =>
                  updateDraft((draft) => {
                    draft.showLabels = checked;
                  })
                }
              />
            </Form.Item>
          </Form>
        ),
      },
    ];

    return <Collapse bordered={false} defaultActiveKey={[0]} items={items} />;
  }
);
