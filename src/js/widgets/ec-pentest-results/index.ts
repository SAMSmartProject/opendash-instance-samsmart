import { createWidget } from "@opendash/plugin-monitoring";
import React from "react";
import { ConfigInterface } from "./types";

export default createWidget<ConfigInterface>({
  type: "opendash-widget-pentest-results",
  meta: {},
  displayComponent: React.lazy(() => import("./component")),
  settingsComponent: React.lazy(() => import("./settings")),
  dataItems: {
    select: "item",
    min: 1,
    max: 10,
  },
  dataFetching: {
    live: false,
    history: true,
  },
  dataExplorer: {
    title: "echarts:pentestresults.graph.name",
    description: "echarts:pentestresults.graph.description",
    icon: "fa:microscope",
    config: {},
  },
  presets: [
    {
      label: "echarts:pentestresults.graph.name",
      description: "echarts:pentestresults.graph.description",
      tags: ["network"],
      layout: [6, 3] as [number, number],
      widget: {
        config: {
          _history: {
            historyType: "relative",
            value: 1,
            unit: "day",
          },
        },
      },
      imageLink: async () => (await import("./preset.png")).default,
    },
  ],
});
